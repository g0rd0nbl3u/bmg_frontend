<hr>
<h4>TreeView of Knowledge</h4>
<button type="button" class="btn btn-sm btn-outline-default" (click)="newNode()">
  <fa name="plus"></fa>
</button>
<button type="button" class="btn btn-sm btn-outline-default" (click)="syncWithServer()">
  <fa name="upload"></fa>
</button>
<tree-root
  [nodes]="knowledgeArray"
  [options]="options"
  (onFocus)="showTools($event)"
  (onBlur)="hideTools($event)"
>
  <ng-template #treeNodeTemplate let-node let-index="index">

    <span *ngIf="!node.editMode">{{ node.data.name }}</span>
    <input type="text" class="form-control" id="name"
           [(ngModel)]="node.data.name" name="name"
           *ngIf="node.editMode">
    <button type="button" class="btn btn-sm btn-outline-default" *ngIf="!node.editMode && node.showTools"
            (click)="editNode(node)">
      <fa name="pencil"></fa>
    </button>
    <button type="button" class="btn btn-sm btn-outline-default" *ngIf="!node.editMode && node.showTools"
            (click)="deleteNode(node)">
      <fa name="trash"></fa>
    </button>
    <button type="button" class="btn btn-sm btn-outline-default" *ngIf="node.editMode" (click)="editNode(node)">
      <fa name="check-square-o"></fa>
    </button>
    <!--<span *ngIf="!node.editMode">{{ node.data.uuid }}</span>-->
    <!--<span>[node-id: {{ node.data.uuid }}]</span>-->
  </ng-template>
</tree-root>

